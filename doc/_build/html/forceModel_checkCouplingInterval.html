<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>forceModel_checkCouplingInterval command &mdash; CFDEMcoupling 3.8.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="CFDEMcoupling_Manual.html" class="icon icon-home"> CFDEMcoupling
          </a>
              <div class="version">
                3.8.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">forceModel_checkCouplingInterval command</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#restrictions">Restrictions</a></li>
<li><a class="reference internal" href="#related-commands">Related commands</a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="CFDEMcoupling_Manual.html">CFDEMcoupling</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="CFDEMcoupling_Manual.html" class="icon icon-home"></a> &raquo;</li>
      <li>forceModel_checkCouplingInterval command</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="forcemodel-checkcouplinginterval-command">
<span id="index-0"></span><h1>forceModel_checkCouplingInterval command<a class="headerlink" href="#forcemodel-checkcouplinginterval-command" title="Permalink to this headline"></a></h1>
<section id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline"></a></h2>
<p>Defined in couplingProperties dictionary.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">forceModels</span>
<span class="p">(</span>
    <span class="n">checkCouplingInterval</span>
<span class="p">);</span>
<span class="n">checkCouplingIntervalProps</span>
<span class="p">{</span>
    <span class="n">warnOnly</span>                    <span class="n">bool1</span><span class="p">;</span>
    <span class="n">velocityFieldName</span>           <span class="n">word1</span><span class="p">;</span>
    <span class="n">rhoP</span>                        <span class="n">scalar1</span><span class="p">;</span>
    <span class="n">maxCFL</span>                      <span class="n">scalar2</span><span class="p">;</span>
    <span class="n">maxPCFL</span>                     <span class="n">scalar3</span><span class="p">;</span>
    <span class="n">maxAccNr</span>                    <span class="n">scalar4</span><span class="p">;</span>
    <span class="n">UmaxExpected</span>                <span class="n">scalar5</span><span class="p">;</span>
    <span class="n">minAllowedVcellByVparcel</span>    <span class="n">scalar6</span><span class="p">;</span>
    <span class="n">largeVcellByVparcel</span>         <span class="n">scalar7</span><span class="p">;</span>
    <span class="n">timeInterval</span>                <span class="n">scalar8</span><span class="p">;</span>
    <span class="n">maxRelVelChange</span>             <span class="n">scalar9</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<ul class="simple">
<li><p><em>bool1</em> = (optional, default true) switch to warn or stop simulation if criterion is broken.</p></li>
<li><p><em>word1</em> = (optional, default U) name of velocity field.</p></li>
<li><p><em>scalar1</em> = particle density assumed for calculation of the particle relaxation time</p></li>
<li><p><em>scalar2</em> = (optional, default=1) maximum allowed CFL number.</p></li>
<li><p><em>scalar3</em> = (optional, default=1) maximum allowed particle coupling CFL number.</p></li>
<li><p><em>scalar4</em> = (optional, default=0.005) maximum allowed ratio of coupling time to particle relaxation time.</p></li>
<li><p><em>scalar5</em> = maximum expected velocity fluid velocity (e.g. due to BCs) - used for CFL estimation.</p></li>
<li><p><em>scalar6</em> = (optional, default=3) min allowed volume ratio of cell / particle.</p></li>
<li><p><em>scalar7</em> = (optional, default=10000) maximal min volume ratio of cell / particle for which divided void fraction model is recommended.</p></li>
<li><p><em>scalar8</em> = (optional, default=coupling time) interval of execution.</p></li>
<li><p><em>scalar9</em> = (optional, default=0.1) max allowed ratio of fluid velocity gradient and coupling interval.</p></li>
</ul>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">forceModels</span>
<span class="p">(</span>
    <span class="n">checkCouplingInterval</span>
<span class="p">);</span>
<span class="n">checkCouplingIntervalProps</span>
<span class="p">{</span>
    <span class="n">rhoP</span> <span class="mi">2500</span><span class="p">;</span>
    <span class="n">UmaxExpected</span> <span class="mi">10</span><span class="p">;</span>
    <span class="n">timeInterval</span> <span class="mf">0.002</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline"></a></h2>
<p>This “forceModel” does not influence the particles or the simulation - it is a postprocessing tool! At the first coupling step and at every time interval several criteria are checked:</p>
<ol class="arabic simple">
<li><p>The acceleration number is defined as the ratio of DEMtime/particleRelaxationTime, where DEMtime is DEM time step size * coupling interval. The acceleration nr should be smaller than ~0.005.</p></li>
<li><p>The Courant Number (CFL). If the CFL number exceeds a reasonable value the quality of the result becomes bad - therefore the simulation settings should be changed.</p></li>
<li><p>The particle coupling Courant number (pCFL). Similar to the fluid CFL, the pCFL should not exceed a reasonable value. It is defined as max(vparticle)*couplingTime/min(cellLength) .</p></li>
<li><p>The ratio of smallest cell biggest particle volume. Typically this should be larger than 3.</p></li>
<li><p>If the ratio of the smallest cell to the largest particle exceeds a certain limit (current default value 10000) it is recommended to use the more efficient centre voidfraction model.</p></li>
<li><p>The minimum and maximum Stokes Number. The Stokes number is a measure for in how far the particles follow the flow. It is calculated as the product of the particle relaxation time and the relative velocity between fluid and particle over the particle diameter: relaxation time * relative velocity / particle diameter. Note that the highest appearing value of scaleDrag will be used to scale the relaxation time reciprocally.</p></li>
<li><p>The product of max fluid velocity gradient and coupling time is checked as a benchmark for particle acceleration due to changes the particles experience in the velocity field.</p></li>
</ol>
<p>For the criteria (1)-(4) the user can define its own allowed bounds and with the flag “warnOnly” the user can choose if the simulation should be stopped or if just a warning is given if a criterion is broken.</p>
</section>
<section id="restrictions">
<h2>Restrictions<a class="headerlink" href="#restrictions" title="Permalink to this headline"></a></h2>
<p>needs MPI based dataExchange model - e.g. oneWayVTK will not work.</p>
</section>
<section id="related-commands">
<h2>Related commands<a class="headerlink" href="#related-commands" title="Permalink to this headline"></a></h2>
<p><a class="reference internal" href="forceModel.html"><span class="doc">forceModel</span></a></p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, DCS Computing GmbH.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>